<h2 class="mb-4 text-lg text-gray-900 dark:text-white">
  Register
</h2>

<form [formGroup]="formGroup" (ngSubmit)="onSubmit()" class="mt-6 space-y-4">
  <div>
    <app-input-label for="name" text="Name" />
    <app-text-input formControlName="name" type="text" id="name" name="name"/>
    <div
      *ngIf="submitted && formGroup.get('name')?.invalid"
      class="text-sm text-red-600 dark:text-red-400 mt-2"
    >
      Invalid name
    </div>
  </div>

  <div>
    <app-input-label for="email" text="Email" />
    <app-text-input formControlName="email" type="email" id="email" name="email"/>
    <div
      *ngIf="submitted && formGroup.get('email')?.invalid"
      class="text-sm text-red-600 dark:text-red-400 mt-2"
    >
      Invalid email
    </div>
  </div>

  <div>
    <app-input-label for="password" text="Password" />
    <div>
      <app-text-input formControlName="password" [type]="visiblityRigisterPwd" id="password" name="password"/>
        <svg *ngIf="visiblityRigisterPwd == 'text'" (click)="visiblityToggleRegisterPwd()" class="w-6 h-6 text-gray-700 dark:text-gray-300 eye-icon-position-login" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-width="2" d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"/>
          <path stroke="currentColor" stroke-width="2" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
      </svg>
      <svg *ngIf="visiblityRigisterPwd == 'password'" (click)="visiblityToggleRegisterPwd()" class="w-6 h-6 text-gray-700 dark:text-gray-300 eye-icon-position-login" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
      </svg>
    </div>
    
    <div
      *ngIf="submitted && formGroup.get('password')?.invalid"
      class="text-sm text-red-600 dark:text-red-400 mt-2"
    >
      Password is required
    </div>
  </div>

  <div>
    <app-input-label for="confirmPassword" text="Confirm Password" />
    <div>
      <app-text-input formControlName="confirmPassword" [type]="visiblityRigisterConfirmPwd" id="confirmPassword" name="confirmPassword"/>
        <svg *ngIf="visiblityRigisterConfirmPwd == 'text'" (click)="visiblityToggleRegisterConfirmPwd()" class="w-6 h-6 text-gray-700 dark:text-gray-300 eye-icon-position-login" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-width="2" d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"/>
          <path stroke="currentColor" stroke-width="2" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
      </svg>
      <svg *ngIf="visiblityRigisterConfirmPwd == 'password'" (click)="visiblityToggleRegisterConfirmPwd()" class="w-6 h-6 text-gray-700 dark:text-gray-300 eye-icon-position-login" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
      </svg>
    </div>
    
    <div
      *ngIf="submitted && formGroup.get('confirmPassword')?.invalid"
      class="text-sm text-red-600 dark:text-red-400 mt-2"
    >
      Confirm password is required
    </div>
    <div
      *ngIf="submitted && formGroup.errors?.['passwordMismatch']"
      class="text-sm text-red-600 dark:text-red-400 mt-2"
    >
      Passwords do not match
    </div>
  </div>

  <div class="flex items-center justify-between gap-2">
    <a
      [routerLink]="['/login']"
      class="underline text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 dark:focus:ring-offset-gray-800 font-medium"
    >
      Already registered?
    </a>

    <app-primary-button type="submit"> Register </app-primary-button>
  </div>
  <div
    *ngIf="submitted && errorMessage"
    class="text-sm text-red-600 dark:text-red-400 mt-2"
  >
    {{ errorMessage }}
  </div>
</form>
